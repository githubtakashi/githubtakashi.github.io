# vimrcについてのメモ

主にvimrcの設定内容についてメモ。
どこかからコピペして作ることが多く、内容がわからないまま設定している項目も多いので、
設定した内容についてメモや説明など。基本的に便利だと思って実際に設定する設定だけメモする。

<br />

## set number

vimの左側に行番号を表示する。

## syntax on

プログラミング言語など内容に合わせて色を変えて表示されるのでソースコードが見やすくなる。

古いバージョンのvimだとこの設定は存在しない。

## set incsearch

文字の検索を入力している途中でテキスト中の候補に飛び表示される。

## set hlsearch

検索でヒットした文字を強調表示する。
検索後もハイライトされたままやウザいみたいなのを見かけるので設定はしない。
あとで忘れてまた設定してしまいそうなのでメモとして書いておく。

<br />

## set smartcase

/aのように小文字で検索したら小文字にも大文字にもヒットするけど
/Aのように大文字で検索したら大文字にヒットするけど小文字にはヒットしない設定。

<br />

## set autoindent

改行やoなどでプログラミング言語の種類に合わせてインデントの位置を自動的に合わせてくれる。

<br />

## set showmatch

()を入力の際に、対応するかっこに一瞬飛んで、対応するカッコがどこにあるのか分かりやすくする。

<br />

## set backspace=indent,eol,start

backspaceキーを押しても効かない場合は設定する。

PCによってはたまにデフォルトではbackspaceキーが無効になっていることがある。

設定の意味:

- indent: indentによる空白を削除

- eol: 行末を削除

- start: カーソルよりも前(左側)の文字を削除

startについては日本語では"カーソルよりも前"と書いてあってどっちにも解釈できるので
説明がわかりにくいけど、カーソルの後ろ。つまり普通のbackspaceキーの動作のこと。
vimは普通のbackspaceの動作がデフォルトでは効かなかったりする。

下記のように数値でも設定できる。

```
set backspace=0 //set backspace= と同じ
set backspace=1 //set backspace=indent,eolと同じ
set backspace=2 //set backspace=indent,eol,startと同じ
```

<br />

## set history=200

コマンドの履歴と検索履歴を200個ずつ残す。

<br />

## set ruler
現在のカーソル位置(行,列)を画面の右下にずっと表示する。

<br />

## set laststatus=2

画面最下部のステータスラインを2に設定すると常にステータスラインが表示される。

<br />

## set showcmd

入力中のコマンドの文字をステータスラインに表示する。入力が完了=エンターキー押してコマンドが実行されると表示は消える。

<br />

## set wildmenu

コマンドを入力してtabを押したときにコマンドの候補がステータスラインに表示される。

<br />

## set virtualedit=onemore

行末で通常はカーソルは最後の文字の上にあり、それ以上右に移動できないけど、
設定することで行末の最後の文字の1文字先にカーソルが移動できる。

この設定していないと、使っていて何気にストレスになるので、やっておいてよかった。


## inoremap <C-U> <C-G>u<C-U>

```
inoremap <C-U> <C-G>u<C-U>
```
  
insertモードで行の最後尾にカーソルがある状態で、Ctrl + u で行の文字を一括で削除できる。

設定していないといちいちノーマルモードにしてddなど実行しないといけないので設定して使うことを
  
習慣にすると便利なキーマッピング。設定したことを忘れがちなので使っていくことが大切。
  
一時的にもとに戻したいときは:iunmap <C-U>とする。
  
<br />

## filetype plugin indent on
 
filetypeの検出、ファイルタイププラグインの適用、ファイルタイプに合わせたインデントの自動調整

<br />

## DiffOrigコマンド
  
下記を記述することでDiffOrigコマンドがつかえるようになる。
  
```
command DiffOrig vert new | set bt=nofile | r ++edit # | 0d_ | diffthis
                  \ | wincmd p | diffthis
```
  
下記コマンドを実行することで、差分モードで表示される。
変更前とこれから変更するファイルが同時に左右に表示され、新しく変更するとそこがハイライトされる。
  
プログラミングしていて変更点を確認したい場合は便利。
  
```
:DiffOrig
```

<br />
  
## packadd! matchit
  
デフォルトで入っているけど無効になっているmatchitプラグインを有効にする。
  
有効にすると、'%'キーを押したときに()だけでなくif/endifなどの組み合わせにも
  
ハイライトが対応できるようになる。
  
<br />
  
## set so=5

画面のスクロールをしたときに、画面の上下からセットした値分の行数でカーソル位置が

止まった状態になり、画面の端までカーソルが行かなくなった状態でスクロールできるので画面が見やすくなる。
  
10行だと多すぎて逆に違和感あったので、5行に設定した。5行が適当かなと思いました。
  
<br />
  
## set cursorline
  
カーソルがある行全体をハイライトしてくれる。
  
最初のころは設定していなかったけど、これは何気に見やすくなるのでよさげな設定です。

<br />

## set clipboard+=unnamed

通常はVimの*レジスタとOSのクリップボードが連動してるので、

vim以外のとこからコピーした文字列をVimにペーストでき、vimでヤンクした文字列をvim以外のところにペーストできる。
  
ただし、put, yankの都度*レジスタを指定しないと動作しないので、慣れないと大変。

この問題を解決できるのがこの設定。yank, putするときにクリップボードを使用できるので便利。

<br />

## inoremap jj <ESC>

```
inoremap jj <ESC>
```
  
インサートモードでESCにjjをキーマッピング

insertモードでjjでノーマルモードに抜けれるので便利。
  
特にESCキーが遠いキーボードの場合はかなり便利。
  
<br />

## set nowritebackup
  
ファイル上書き保存前にバックアップを作ることを無効にする。 
  
不要そうな機能でデフォルトで有効のままだと処理のオーバーヘッドになりそうな気もするので
  
無効にしておく。必要そうなら再度設定すればよい。

<br />
  
## set nobackup
  
保存時にバックアップファイルを作らない。
nowritebackupとセットで設定しておくとよさそう。

<br />  

## set noswapfile

swapfileを作らない。
  
<br />
