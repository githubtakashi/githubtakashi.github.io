# Linuxサーバーを作成するためのメモ

1台目：  
IBM System x3105, CentOS7

2台目：  
NEC Express5800, Manjaro Linux

Linuxの基礎を勉強のために、サーバーを作成していきます。そのために勉強したことや実践内容をメモ。

小規模構成のネットワークを作成します。

<br />

## サーバー作成のために利用する内容

本: CentOS7の本にサーバー構築について書かれているので本で学びつつ。

ネット：ググって良さげな記事を探して参考にする。

manjaro linuxではコマンドが全然違ったりするので、参考にするのは実際にはArch Linuxのウィキなど。

<br />

## サーバーを作るためのネットワーク構成

サーバー構築がはじめてなので、最小構成にする。  
ONUとサーバーにするPCをPPPoE接続し、１個のグローバルIP、Linuxを回線に直結する。  
(LinuxサーバーをPPPoEにより直接ONU(回線終端装置)に接続する)

そうすることで、サーバーにするPCがインターネットとつながった状態で、グローバルIPを持った状態となる。  
通常は、PCにはプライベートIPしか与えられていないので、グローバルIPを持ったPCがネットワークの入口  
(インターネットゲートウェイ/ルータ)として機能できるようになる。  
pppoe接続できたらPCにサーバーを作成する。

PPPoEとは:  
ONUとPCやルータをイーサネットで接続し、イーサネット上でPPP(Point-to-Point Protocol)を利用するためのプロトコル。  
PPPの認証機能を利用して、プロバイダからグローバルIPアドレスを取得して接続を確立する。

<br />

## CentOSの初期設定

サーバー作成にあたっての[初期設定](https://centossrv.com/centos7-init.shtml)をする。  
rootユーザーと一般ユーザーの両方でterminalにログインできる状態に設定しておく。  
その他もろもろの設定を初期設定でしておく。

<br />

## PPPoE接続設定(Manjaro Linux)

設定ファイルを作成からのコマンドで接続を設定できるみたいだけど、かんたんなウィザードを利用して設定もできるみたいなので、  
はじめてということもありウィザードの方を利用してみる。 

[Archのドキュメント](https://wiki.archlinux.jp/index.php/Pppd#.E7.B0.A1.E5.8D.98.E3.81.AA.E3.82.A6.E3.82.A3.E3.82.B6.E3.83.BC.E3.83.89.E8.A8.AD.E5.AE.9A)を参考にする。  
AURリポジトリのparuにpppoe接続ウィザードで設定できるパッケージがあるので、インストール。

```
paru -S pppconfig
```





